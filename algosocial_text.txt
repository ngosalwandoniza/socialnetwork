Good â€” this is where your idea becomes intelligent without â€œAI hype.â€Algorithms here donâ€™t mean neural networks yet. They mean clear rules, scoring, and flow.
Iâ€™ll break this into practical algorithms you actually need, written in a way you can code in Django easily.
ğŸ§  CORE ALGORITHMS FOR YOUR PLATFORM
Weâ€™ll cover 6 algorithms:
Location room assignment
Presence & activity tracking
People suggestion scoring
Feed ranking
Ephemeral content expiry
Streak calculation
No ML. All deterministic. MVP-safe.
1ï¸âƒ£ LOCATION ROOM ASSIGNMENT ALGORITHM
Goal: Decide which place a user belongs to right now.
Inputs
User GPS (lat, lon)
List of predefined geofences (campus, mall, building)
Accuracy threshold
Algorithm (Simple & Safe)
FOR each geofence:
    IF user_location INSIDE geofence:
        assign user to that location room
        break
ELSE:
    user is "not in a room"
Important Rules
Use coarse accuracy (50â€“100m)
Do NOT update every second
Update only on:
app open
significant movement
heartbeat every 2â€“5 minutes
âœ… Prevents battery drainâœ… Prevents stalking
2ï¸âƒ£ PRESENCE & ACTIVITY TRACKING
Goal: Know who is â€œactive here nowâ€.
Presence Model (Redis-based)
user_id â†’ location_id â†’ last_seen_timestamp
Algorithm
IF now - last_seen < ACTIVE_THRESHOLD (e.g. 5 min):
    user is active
ELSE:
    user is inactive (removed from room)
This is eventual consistency, which is fine.
3ï¸âƒ£ PEOPLE SUGGESTION ALGORITHM (VERY IMPORTANT)
This is your core intelligence.
Signals (Weights)
Signal
Weight
Same location
+50
Interest overlap (per tag)
+10
Recent activity
+10
Mutual connections
+15
Same streak/location history
+5
Scoring Formula
score = 
  (same_location ? 50 : 0)
+ (interest_overlap_count * 10)
+ (recent_activity ? 10 : 0)
+ (mutuals * 15)
+ (shared_location_history ? 5 : 0)
Filter Rules
âŒ Blocked users â†’ exclude
âŒ Already friends â†’ exclude
âŒ Opted out of discovery â†’ exclude
Output
Top N users (e.g. 10)
Recalculate every few minutes or on room entry
âš ï¸ Never expose the score to users.
4ï¸âƒ£ FEED RANKING ALGORITHM (LOCAL-FIRST)
Your feed is NOT global like TikTok.
Feed Sources (Priority Order)
Current location posts
Nearby location posts
Interest-matched posts
Friendsâ€™ posts
Ranking Factors
Factor
Effect
Same location
Strong boost
Freshness
High
Interest match
Medium
Engagement (likes, comments)
Medium
Friend relationship
Medium
Simple Ranking Formula
rank_score =
  location_weight
+ freshness_weight
+ interest_weight
+ engagement_weight
Freshness decay example:
freshness_weight = max(0, 24 - hours_since_post)
Simple, predictable, debuggable.
5ï¸âƒ£ EPHEMERAL CONTENT EXPIRY ALGORITHM
Goal: Content disappears without manual cleanup.
Data Model
post_id
created_at
expires_at
visibility_type
Algorithm
IF now > expires_at:
    hide post from feeds
    mark as expired
Cleanup
Soft delete first
Hard delete via scheduled job (daily)
âš ï¸ Never delete immediately â€” allow recovery.
6ï¸âƒ£ STREAK CALCULATION ALGORITHM
Goal: Reward consistent presence.
Example: Location Streak
IF user posted in location today:
    IF last_post_date == yesterday:
        streak += 1
    ELSE:
        streak = 1
Rules
One post per day counts
Late-night grace window (e.g. until 3am)
Streak breaks if no activity
Streaks are psychological glue.
ğŸ§  WHAT YOU SHOULD NOT BUILD YET
âŒ ML recommendationsâŒ Real-time global rankingâŒ Graph neural networksâŒ Continuous tracking
All of that comes after density.
âš™ï¸ WHERE THESE ALGORITHMS LIVE (TECH-WISE)
Algorithm
Where
Location assignment
Backend API
Presence
Redis
Suggestions
Background job
Feed ranking
Query + cache
Expiry
Scheduled task
Streaks
Background job
ğŸ¯ WHY THIS WORKS
Deterministic â†’ easy to debug
Predictable â†’ users trust it
Cheap â†’ no heavy compute
Scalable â†’ precompute + cache
This is how Instagram, Snapchat, LinkedIn started internally.
ğŸ Final Truth
Algorithms donâ€™t make your app smart.Constraints do.
Your constraints:
location
time
consent
context
Thatâ€™s why this works.
If you want next, I can:
write pseudo-code in Django
design Redis keys
or simulate 10k users load behavior
Just point the direction ğŸš€